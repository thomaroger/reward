{% extends 'base.html.twig' %}

{% block body %}

{% if selectedchild is null or selectedchild is empty  %}
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
   <h4 class="alert-heading">Enfant non selectionn√©</h4>
   <p>Vous devez choisir un enfant dans le menu</p>
    <ul class="list-group list-group-horizontal mx-auto" style="width: 350px;">
      {% for child in children %}
      <li class="list-group-item list-group-item-danger list-group-item-action">
        <a class="nav-link" aria-current="page" href="{{ path('app_home_child', {id: child.id}) }}">{{child}} ({{ child.points }})</a>
      </li>
      {% endfor %}
    </ul>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% else %}
  {% for date,histos in historics %}
    <ul class="list-group"> 
      <li class="list-group-item">{{date}}</li>
      {% for historic in histos %}
        {% set item_style = 'list-group-item-success' %}
        {% if historic.task.type == 1 %}
        {% set item_style = 'list-group-item-danger' %}
        {% endif %}
        {% if historic.task.type == 2 %}
        {% set item_style = 'list-group-item-warning' %}

        {% endif %}
        <li class="list-group-item  {{ item_style }}">
            <div class="container text-center">
              <div class="row">
                <div class="col text-start">
                 {{historic.task}}
                </div>
                <div class="col text-end">
                 <span class="badge rounded-pill {% if historic.task.type == 0 %}text-bg-success{% elseif historic.task.type == 1 %}text-bg-danger{% else %}text-bg-warning{% endif %}">
                   {% if historic.task.points > 0 %}+{{ historic.task.points }}{% else %}{{ historic.task.points }}{% endif %}
                 </span>
                 &nbsp;
                 {{ historic.createdAt|date("d/m/Y H:i:s") }}
                </div>
              </div>
            </div>
        </li>
        {% endfor %}
  </ul>
  <div class='clearfix'>&nbsp;</div>
{% endfor %}

{% endif %}
{% endblock %}
