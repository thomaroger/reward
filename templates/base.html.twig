<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}Reward{% endblock %}</title>
        {% block stylesheets %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> 
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
        <link href="{{ asset('css/app.css') }}" rel="stylesheet">
        {% endblock %}


        {% block javascripts %}
          <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
          <script defer src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
          <script defer src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
          <script defer src="{{ asset('js/app.js') }}"></script>
        {% endblock %}
    </head>
    <body>  
<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="{{ path('app_home') }}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" height="30" width="30"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M234 33.4C246.5 37.8 253 51.5 248.6 64L240.4 87.1L265.8 68.6C276.5 60.8 291.5 63.2 299.3 73.9C307.1 84.6 304.7 99.6 294 107.4L265.8 128L304 128C330.5 128 352 149.5 352 176L352 178.1C297.3 188.5 256 236.5 256 294.1L256 296C256 304.9 257 313.5 258.8 321.9C246.9 339.7 240 361 240 384L240 512C240 535.8 247.4 557.9 260.1 576L80 576C53.5 576 32 554.5 32 528L32 176C32 149.5 53.5 128 80 128L118.2 128L89.9 107.4C79.2 99.6 76.8 84.6 84.6 73.9C92.4 63.2 107.4 60.8 118.1 68.6L145.5 88.6L137.2 63.6C133 51 139.8 37.4 152.4 33.2C165 29 178.6 35.8 182.8 48.4L192.7 78.2L203.4 48C207.8 35.5 221.5 29 234 33.4zM521.9 272C514.4 272 507.4 275.8 503.3 282.1L478.9 320L520 320C533.3 320 544 309.3 544 296L544 294.1C544 281.9 534.1 272 521.9 272zM417.1 320L392.7 282.1C388.6 275.8 381.6 272 374.1 272C361.9 272 352 281.9 352 294.1L352 296C352 309.3 362.7 320 376 320L417.1 320zM313.9 332.5C307.6 321.8 304 309.3 304 296L304 294.1C304 255.4 335.4 224 374.1 224C397.9 224 420.1 236.1 433 256.1L448 279.3L463 256.1C475.9 236.1 498.1 224 521.9 224C560.6 224 592 255.4 592 294.1L592 296C592 309.3 588.4 321.8 582.1 332.5C597.8 344.2 608 362.9 608 384L608 512C608 547.3 579.3 576 544 576L472 576L472 368L424 368L424 576L352 576C316.7 576 288 547.3 288 512L288 384C288 362.9 298.2 344.2 313.9 332.5z"/> &nbsp; 
      <b>Rewards</b></a> 
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      {% if selectedchild is not null and selectedchild is not empty %}
        <b>{{selectedchild}} ({{ selectedchild.points }})</b>
      {% endif %}
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item d-flex align-items-center me-3">
          <label for="child-select" class="me-2 mb-0">Enfant</label>
          <select id="child-select" class="form-select" style="min-width: 220px;">
            <option value="" disabled {% if selectedchild is null or selectedchild is empty %}selected{% endif %}>Choisir un enfant</option>
            {% for child in children %}
              <option value="{{ child.id }}" {% if (selectedchild is not null and selectedchild is not empty) and selectedchild.id == child.id %}selected{% endif %}>{{ child }} ({{ child.points }})</option>
            {% endfor %}
          </select>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="{{ path('app_home_historic') }}">Historique</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="{{ path('admin') }}">Administration</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
      <div class="clearfix"></div>
      <main class=" align-items-center bg-body-tertiary" aria-live="polite" aria-atomic="true">
        <div class="container">
          <div class="clearfix">&nbsp;</div>
          {# Toasts Bootstrap pour les flashs #}
          <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1080;">
            {% for label, messages in app.flashes %}
              {% for message in messages %}
                <div class="toast align-items-center text-bg-{{ label }} border-0" role="status" aria-live="polite" aria-atomic="true" data-bs-delay="4000">
                  <div class="d-flex">
                    <div class="toast-body">{{ message }}</div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                  </div>
                </div>
              {% endfor %}
            {% endfor %}
          </div>
          {% block body %}{% endblock %}
        </div>
      </main>

    </body>
</html>
